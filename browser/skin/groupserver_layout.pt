<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  metal:define-macro="page">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <metal:block define-slot="title" />    
    <metal:block define-slot="metadata" />
    <!-- styling typically covering all sites -->
    <link rel="stylesheet" type="text/css" 
      href="/++resource++globalstyle-20080310.css" />
    <!-- styling just covering local customisations to sites -->
    <link rel="stylesheet" type="text/css" 
      href="/++resource++site-20080528.css" />
    <tal:block condition="python:hasattr(context, 'PresentationCustom')">
        <!-- now deprecated, but still in use, method for getting local 
           - customisations -->
        <link rel="stylesheet" type="text/css" 
          href="/PresentationCustom/Tofu/Common/css/globalstyle.css" />
    </tal:block>
    <metal:block define-slot="style" />
    <base tal:attributes="href string:${request/URL1}/" />
  </head>
  <body tal:define="siteName python:view.siteInfo.get_name()"
    tal:attributes="id python:'page-%s' % request.URLPATH1.strip('/').replace('/','_');">
    <div id="toparea">
      <div id="externalbar" 
        metal:define-slot="externallinks"
        tal:content="structure python:getattr(context, 'menuexternal.xml', getattr(context.Templates.output, 'menuexternal.xml'))(method='html')">&#160;</div>
      <div id="titlebanner">
        <metal:block metal:define-slot="search">
          <form  action="/s/index.html" method="get" id="searcharea"
            encoding="multipart/form-data">
            <input class="text" title="Text to search for" type="text" 
              name="s" id="searchTextInput"/> 
            <input class="button" type="submit" value="Search" />
          </form><!--searcharea-->
        </metal:block>
        <div id="titlebar">
          <a href="/"><span class="logo">&#160;</span>
            <span class="group">&#160;</span>
            <span class="division" tal:content="siteName">Site Name</span></a>
        </div><!--titlebar-->
      </div><!--titlebanner-->
      <div id="mainnav">
        <div id="utilitylinks" 
          metal:define-slot="utilitylinks"
          tal:content="structure python:getattr(context.Templates.output, 'utilitylinks.xml')(method='html')">
          &#160;
        </div><!--utilitylinks-->          
        <div id="sitenavigation" metal:define-slot="sitenavigation"
          tal:content="structure python:getattr(context, 'menumain.xml', getattr(context.Templates.output, 'menumain.xml'))(method='html')">
          &#160;
        </div><!--sitenavigation-->
      </div><!--mainnav-->
    </div><!--toparea-->
    <div id="bodyblock">
      <metal:block define-slot="contextnavigation"
      tal:content="structure python:getattr(context, 'contextmenu.xml', getattr(context, 'contextmenu', getattr(context.Templates.output, 'contextmenu.xml')))(method='html')">
          &#160;
      </metal:block><!--contextnavigation-->          
      <div id="content">
        <div id="messages" metal:define-slot="messages">&#160;</div>
        <div id="notifications" metal:define-slot="notifications"
          tal:condition="context/notifications | nothing">
          <tal:block 
            repeat="notification python:context.notifications.objectValues()">
            <p tal:replace="structure python:notification(method='html')">
              You Maniacs! 
              You blew it up! 
              Ah, <strong>damn you!</strong>
              God damn you all to <strong>Hell!</strong>
            </p>
          </tal:block>
        </div><!--notifications-->
        <metal:block define-slot="pagetitle">&#160;</metal:block>
        <metal:block define-slot="body">&#160;</metal:block>
        <div class="noFloat">&#160;</div>
        <!--Footer-->
        <metal:block define-slot="footer"
          tal:define="footer python:getattr(context, 'footerlinks.xml', getattr(context.Templates.output, 'footerlinks.xml', None))"
          tal:content="structure python:footer and footer(method='html') or ''">
          &#160;
        </metal:block>
      </div><!--content-->
    </div><!--bodyblock-->
    <script type="text/javascript" 
      src="/++resource++jquery-1.2.1.min.js">&#160;</script>
    <script type="text/javascript"
      src="/++resource++disclosureButton-20080310.js">&#160;</script>
    <metal:block define-slot="javascript" />
  </body>
</html>

